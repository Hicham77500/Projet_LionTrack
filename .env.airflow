# .env.airflow
# Configuration Airflow pour LionTrack - PRODUCTION

# ============================================================================
# CONFIGURATION MONGODB (À COMPLÉTER)
# ============================================================================
# Format: mongodb+srv://username:password@cluster.mongodb.net/dbname
# Obtenir depuis: https://www.mongodb.com/cloud/atlas
MONGODB_URI=mongodb+srv://hguendouz77500_db_user:rSeEonEwIxvvu6YT@cluster0.2ycytk4.mongodb.net/?appName=Cluster0

# ============================================================================
# SÉCURITÉ (À CHANGER)
# ============================================================================
# Token JWT pour authentifier les requêtes
JWT_SECRET=S5q9kISVWfJ+j+/r/dt+6MfRdCmAERsgziIaI0Xppm4=

# Token pour authentifier les requêtes d'Airflow
AIRFLOW_API_TOKEN=your_super_secret_airflow_token_change_this_$(openssl rand -hex 32)

# ============================================================================
# CONFIGURATION LIONTRACK
# ============================================================================
# URL de votre site LionTrack (production)
LIONTRACK_API_URL=https://liontrack.exemple.com

# URL d'Airflow (pour accès externe)
AIRFLOW_BASE_URL=https://airflow.liontrack.exemple.com

# Port du serveur Node.js
NODE_ENV=production
PORT=3000

# ============================================================================
# CONFIGURATION EMAIL (GMAIL)
# ============================================================================
# 1. Activer la vérification en 2 étapes dans Gmail
# 2. Créer un mot de passe d'application: https://myaccount.google.com/apppasswords
# 3. Utiliser le mot de passe d'application généré ci-dessous

SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SENDER_EMAIL=admin@liontrack.com
SENDER_PASSWORD=test_password_123

# ============================================================================
# CONFIGURATION DE DÉPLOIEMENT
# ============================================================================
# Repository Git
GIT_REPO=https://github.com/votre-username/Projet_LionTrack.git
APP_DIR=/app/liontrack

# ============================================================================
# CONFIGURATION AIRFLOW
# ============================================================================
AIRFLOW_HOME=/opt/airflow
PYTHONPATH=/opt/airflow

# Exécuteur (LocalExecutor pour dev, CeleryExecutor pour prod)
AIRFLOW__CORE__EXECUTOR=CeleryExecutor

# Database Airflow (PostgreSQL)
AIRFLOW__CORE__SQL_ALCHEMY_CONN=postgresql+psycopg2://airflow:airflow@postgres:5432/airflow

# Chargement des exemples
AIRFLOW__CORE__LOAD_EXAMPLES=False

# ============================================================================
# CONFIGURATION DOCKER
# ============================================================================
# Images à utiliser
AIRFLOW_IMAGE_NAME=apache/airflow:2.8.0
POSTGRES_IMAGE_NAME=postgres:15-alpine
REDIS_IMAGE_NAME=redis:7-alpine

# Tags compose
COMPOSE_PROJECT_NAME=liontrack-airflow
COMPOSE_FILE=docker-compose-airflow.yml
